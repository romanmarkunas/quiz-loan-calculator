apply plugin: 'java'
apply plugin: 'application'

repositories {
    jcenter()
}

dependencies {
    compile 'com.google.guava:guava:23.0'

    testCompile 'junit:junit:4.12'
    testCompile 'org.hamcrest:hamcrest-all:1.3'
    testCompile 'org.mockito:mockito-core:2.15.0'

}

mainClassName = 'com.romanmarkunas.loan.LoanCalculator'

run {
    if (project.hasProperty('file') && project.hasProperty('amount')) {
        args = [file, amount]
    }
}

jar {
    from {configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    manifest {
        attributes(
                'Main-Class': "$mainClassName"
        )
    }
}
